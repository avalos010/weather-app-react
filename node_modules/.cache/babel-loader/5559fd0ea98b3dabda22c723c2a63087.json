{"ast":null,"code":"import _classCallCheck from \"/home/jluis/Documents/weather-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jluis/Documents/weather-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jluis/Documents/weather-app-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jluis/Documents/weather-app-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jluis/Documents/weather-app-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jluis/Documents/weather-app-react/src/components/CurrentWeather.js\";\nimport React, { Component } from 'react';\n\nvar CurrentWeather =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CurrentWeather, _Component);\n\n  function CurrentWeather() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CurrentWeather);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CurrentWeather)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      location: \"\",\n      thumbnail: '',\n      title: '',\n      description: '',\n      temp: 0,\n      lat: null,\n      long: null\n    };\n\n    _this.getWeather = function () {\n      var url = \"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(_this.state.lat, \"&lon=\").concat(_this.state.long, \"&appid=601eae66287223be5956bb277ffa86d5&units=imperial\");\n      var promiseResponse = fetch(url).then(function (response) {\n        return response.json();\n      });\n      return promiseResponse.then(function (result) {\n        _this.setState({\n          title: result.name,\n          thumbnail: result.weather[0].icon,\n          description: result.weather[0].description,\n          temp: Math.floor(result.main.temp)\n        });\n      });\n    };\n\n    _this.handleLocationUpdate = function (e) {\n      e.preventDefault();\n      var loc = e.target[0].value;\n\n      if (loc.length > 0) {\n        _this.setState({\n          location: loc\n        });\n\n        setTimeout(_this.getWeather, 1);\n        e.target[0].value = '';\n      }\n    };\n\n    _this.componentDidMount = function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(_this.handleLocationSuccess, _this.handleLocatioError);\n      }\n    };\n\n    _this.handleLocationSuccess = function (position) {\n      var _position$coords = position.coords,\n          latitude = _position$coords.latitude,\n          longitude = _position$coords.longitude;\n\n      _this.setState({\n        lat: latitude,\n        long: longitude\n      });\n\n      _this.getWeather();\n    };\n\n    _this.handleLocatioError = function () {\n      alert('Please allow location');\n    };\n\n    return _this;\n  }\n\n  _createClass(CurrentWeather, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          temp = _this$state.temp,\n          title = _this$state.title,\n          thumbnail = _this$state.thumbnail,\n          description = _this$state.description;\n      return React.createElement(\"div\", {\n        className: \"jumbotron\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-4 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Current Weather\"), React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"lead font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, title), React.createElement(\"img\", {\n        style: {\n          width: 100\n        },\n        src: \"http://openweathermap.org/img/w/\".concat(thumbnail, \".png\"),\n        className: \"mx-auto card-img-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, temp, \"\\xB0F\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), description))));\n    }\n  }]);\n\n  return CurrentWeather;\n}(Component);\n\nexport default CurrentWeather;","map":{"version":3,"sources":["/home/jluis/Documents/weather-app-react/src/components/CurrentWeather.js"],"names":["React","Component","CurrentWeather","state","location","thumbnail","title","description","temp","lat","long","getWeather","url","promiseResponse","fetch","then","response","json","result","setState","name","weather","icon","Math","floor","main","handleLocationUpdate","e","preventDefault","loc","target","value","length","setTimeout","componentDidMount","navigator","geolocation","getCurrentPosition","handleLocationSuccess","handleLocatioError","position","coords","latitude","longitude","alert","width"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n\n\n\nclass CurrentWeather extends Component {\n\n  state = {\n    location: \"\",\n    thumbnail:'',\n    title: '',\n    description: '',\n    temp: 0,\n    lat: null,\n    long: null\n  }\ngetWeather = () => {\n    let url = `https://api.openweathermap.org/data/2.5/weather?lat=${this.state.lat}&lon=${this.state.long}&appid=601eae66287223be5956bb277ffa86d5&units=imperial`;\n    let promiseResponse = fetch(url).then(response => response.json());\n    return promiseResponse.then(result =>{\n      this.setState({\n        title: result.name,\n        thumbnail: result.weather[0].icon,\n        description: result.weather[0].description,\n        temp: Math.floor(result.main.temp)\n      })\n    });\n  }\n\n  handleLocationUpdate = (e) => {\n    e.preventDefault();\n    let loc = e.target[0].value;\n    if(loc.length > 0) {\n    this.setState({location: loc})\n    setTimeout(this.getWeather,1);\n      e.target[0].value = '';\n    }\n\n  }\n  componentDidMount = () => {\n    if(navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.handleLocationSuccess, this.handleLocatioError)\n    }\n\n  }\n\n  handleLocationSuccess = (position) => {\n    const {latitude, longitude} = position.coords;\n    this.setState({\n      lat: latitude,\n      long: longitude\n    })\n\n    this.getWeather()\n  }\n\n  handleLocatioError = () => {\n    alert('Please allow location')\n  }\n\n\nrender() {\n    const {temp,title,thumbnail,description} = this.state;\n    return (<div className=\"jumbotron\">\n    <h2 className=\"display-4 mt-3\">Current Weather</h2>\n\n    <div className=\"card\">\n    <p className=\"lead font-weight-bold\">{title}</p>\n  <img style={{width: 100}} src={`http://openweathermap.org/img/w/${thumbnail}.png`} className=\"mx-auto card-img-top\" />\n  <div className=\"card-body\">\n    <p className=\"card-text\">\n      <span className=\"font-weight-bold\">{temp}°F</span>\n    <br/>{description}</p>\n  </div>\n</div>\n  </div>\n    )\n  }\n}\n\nexport default CurrentWeather;\n"]},"metadata":{},"sourceType":"module"}